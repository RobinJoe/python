<section>
	<title>Major Corrections</title>
	<para>
		The following major bugs were addressed in the CFME 5.3.0 update.
	</para>
	<variablelist>
		<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1054901">1054901</ulink></term>
				<listitem>
					<para>
<screen>When provisioning a large number of virtual machines with Red Hat Enterprise Virtualization 3.2, some machines were created but not powered on due to request timeout errors. Timeout support for RHEV-M API calls have been added to the CFME appliance. Virtual machines now power on successfully.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1110244">1110244</ulink></term>
				<listitem>
					<para>
<screen>When the user navigated to Cloud Intelligence -> Reports -> Import/Export then clicked on the Export button without first selecting a report to view, they received an error. This was because the Export button was available to the user before they chose a report.

Now, the export button is disabled and unavailable to the user, but becomes available once they select a report from the "Available Reports" list.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1114756">1114756</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, the administrator was not able to save a script as a component of a new customization template under the PXE option of the Infrastructure main menu. This was fixed by adding a missing variable in the customization template code. The customization template script can now be saved as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1117500">1117500</ulink></term>
				<listitem>
					<para>
<screen>Previously, navigating to Cloud -> Instances -> Lifecycle -> Provision Instance and choosing a Ec2 east template returned an error. This was because of a missing provisioning route in VM controller files.

The problem has been fixed in four controller files and the error no longer appears.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1119402">1119402</ulink></term>
				<listitem>
					<para>
<screen>Previously, a routing error occurred when provisioning cloud instances:

Action not implemented [vm_cloud/pre_prov]

Now, this issue has been fixed, and the error no longer occurs.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1122712">1122712</ulink></term>
				<listitem>
					<para>
<screen>In the previous version of CloudForms Management Engine, attempting to clone a template resulted in the error "Migrate doesn't apply to templates". This was due to the wrong method being used for cloning the template. This bug was fixed by adding a new method to enable cloning of templates. Cloning templates now works as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1132708">1132708</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, a fatal error was encountered when attempting to edit ISO image meta data in the ISO datastore for PXE controllers. This was fixed by adding in missing route information for editing ISO image metadata. ISO image metadata can now be edited as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1134053">1134053</ulink></term>
				<listitem>
					<para>
<screen>When provisioning a virtual machine, action changes were not reflected. This bug fix updates vm_infra controller with sort_iso_img_grid so that the routing error no longer returns.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1142875">1142875</ulink></term>
				<listitem>
					<para>
<screen>Previously, adding a Control Policy would fail with exception due a flaw in the paging_controls_url method. This has now been removed and two new methods have been added for adding and updating URL query string parameters so that adding a Control Policy works as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1026415">1026415</ulink></term>
				<listitem>
					<para>
<screen>After taking a snapshot of a virtual machine with the memory snapshot option enabled, the virtual machine shuts down when the snapshot is reverted to. The code has been updated to include the memory parameter when taking a snapshot. The virtual machine will now be in the state it was when the snapshot was taken.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1030209">1030209</ulink></term>
				<listitem>
					<para>
<screen>Provisioning OpenStack instances with multiple tenant networks available resulted in an error: "Multiple possible networks found, use a Network ID to be more specific." This fix adds a dialog to select the tenant network when multiple tenant networks are available. The user now selects the tenant network for their OpenStack instances.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1052924">1052924</ulink></term>
				<listitem>
					<para>
<screen>Clicking the update button in the CFME appliance successfully registered and subscribed to the Satellite 5 server but failed to update due to yum not importing RPM GPG keys automatically from within the worker context. The keys are now imported prior to running the yum command, and the update succeeds.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1087637">1087637</ulink></term>
				<listitem>
					<para>
<screen>The error is caused due to Automate generating incorrect XML. The CPU definition contained the unrecognised elements 'sockets'and 'cores' which are attributes of the topology element. Hence, after upgrading RHEVm from 3.3 to 3.4, the user cannot provision new VMs from CloudForms Management Engine. The RHEVm log contains the error 'unexpected element (uri:"", local:"sockets")'.
A number of fixes were incorporated to ensure that the CPU definition is generated correctly.
The user is now able to provision new VMs from CFME.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1121202">1121202</ulink></term>
				<listitem>
					<para>
<screen>The vmdb/public/assets directory did not exist on product appliance builds during development stages of CFME 5.3.0. The build process was changed to precompile the assets and make them available as a part of the source tarball used to build CFME. The assets directory is now available as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1058915">1058915</ulink></term>
				<listitem>
					<para>
<screen>When connecting to a virtual machine from CloudForms EVM using the latest version of VMRC, the process failed to complete, resulting in issues like the console button being rendered unusable, or error messages such as the VMRC plugin not being installed or that the feature is only available in Firefox or Internet Explorer. The two major issues were that EVM was using previously installed versions of VMRC rather than the most updated ones and that EVM, in some cases, was incorrectly detecting Internet Explorer 11 as Firefox and providing wrong paths. These issues have been fixed in the most recent version. Connecting to a virtual machine from CloudForms EVM should work correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1060315">1060315</ulink></term>
				<listitem>
					<para>
<screen>Previously, browsing the 5.2.1.8 user interface using an Internet Explorer 8 browser resulted in an "Error 403 Forbidden Page" error. Internet Explorer does not set a page referer by default when using the page.redirect_to method. This fix sets the referer via javascript when page.redirect_to is called and redirects to the correct URL.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1077355">1077355</ulink></term>
				<listitem>
					<para>
<screen>Starting a console session using the VMRC 5.1 plugin console access only worked with a Firefox 27 browser, but failed on Internet Explorer 10, 11, and Chrome 19 with an error message.

Error message: Remote Console plugin is not properly installed

VMRC plugin version 5.1 was enabled in Internet Explorer and Chrome and a console session now starts correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1083397">1083397</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, adding or editing a service catalog resulted in an undefined method error. This was due to a coding error resulting from a change in the library handling dynamic trees. This bug was fixed by correcting the coding errors, allowing users to add or edit a service catalog as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1098497">1098497</ulink></term>
				<listitem>
					<para>
<screen>IE8 LDAP group switching led to 403 forbidden error in Win7/IE8. IE8 403 forbidden errors have now been fixed such as logging in (dried), changing LDAP groups and adding, removing, resetting dashboard widgets. There is no more redirect to 403 forbidden page on group switching, thus the issue has been fixed.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1103341">1103341</ulink></term>
				<listitem>
					<para>
<screen>In the previous version of CloudForms Management Engine, the user had to press and hold the mouse button when selecting a listed group to change their role. This made changing roles needlessly difficult. This was due to a bug in the Java script code that handled role selection. It was fixed by correcting the Java script code. The user is now able to select a role without having to press and hold the mouse button.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1111746">1111746</ulink></term>
				<listitem>
					<para>
<screen>When resizing a column width in the list view, an routing error returned. This bug fix adds routing for 'save_col_widths' in the FlavorController and also checked in all other controllers so that this routing error is no longer returned.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1120096">1120096</ulink></term>
				<listitem>
					<para>
<screen>Previously, the web based VMRC console was having issues with different browsers. As a result, the VMRC console button was disabled in Google Chrome, and both Firefox and Internet Explorer were displaying a "Action not implemented" error.

Now, the VMRC connectivity issues have been fixed by adding a missing route, and the VMRC screen launches as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1057396">1057396</ulink></term>
				<listitem>
					<para>
<screen>When users belonging to more than one LDAP group attempted switching from one group to another via the CFME user interface, the user interface either denied access or resulted in a white screen. An HTTP referer check has been implemented to check for privileges and the session referer is now saved when a user switches groups. The user switching groups should now see the dashboard for the target user group.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1075251">1075251</ulink></term>
				<listitem>
					<para>
<screen>There was a bug in matching the user's 'subscription types' attribute value to the preset values, resulting in an undefined method error when trying to register through the GUI on the Red Hat Updates tab. When editing user registration on the Red Hat Updates tab, the user is presented with  an 'undefined method '+' for nil:NilClass' error. The user was not able to complete registration. The fix was implemented by changing symbol matching to strings matching against the SUBSCRIPTION_TYPES constant value. The user is now able to complete registration successfully.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1128873">1128873</ulink></term>
				<listitem>
					<para>
<screen>A typo in the admin role features list code resulted in the evmgroup-administrator role not having access to the Automate Customization page. The typo has been corrected, and the role now has appropriate access.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1129495">1129495</ulink></term>
				<listitem>
					<para>
<screen>This update fixes an issue with editing a previously created Catalog Item for VMware using the provision type of PXE due to a missing route. This caused errors when trying to edit a Catalog Item for VMware when using the provision type of PXE. A route has been added for sorting PXE grids. This means that Catalog Items for VMware when using the provision type of PXE can now be edited.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1131566">1131566</ulink></term>
				<listitem>
					<para>
<screen>This update fixes an issue where clicking on nodes in the VM Genealogy Tree causes a routing error. Routes have now been added to allow clicking on nodes in the VM Genealogy Tree. This means that the information for the node in the VM Genealogy Tree can now be viewed.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1131696">1131696</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, when using Selected Infrastructure Providers as assignment, clicking the save button reset the assignment user interface leading the customer to believe that the rates have not been assigned. This issue is fixed in the latest version. Now the values are assigned correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1133103">1133103</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, when a checkbox field was marked as required in the service dialog editor, the required attribute would not persist after exiting from the editor. This was fixed by changing the service dialog editor code to ensure that the required attribute would be saved to the database. Additional fixes were made to ensure that the backend code handled the checkbox state correctly depending on whether the checkbox was clicked or not in the User Interface.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1052069">1052069</ulink></term>
				<listitem>
					<para>
<screen>Group filters were not taking effect on group dashboards, allowing users to see information that should not be visible to the group. userids were not being passed in the rbac.search method call when widgets were being rendered for groups. This fix allows userids to always pass to the widget regardless of group or user.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1079887">1079887</ulink></term>
				<listitem>
					<para>
<screen>The virtual machines configuration management report was querying the incorrect data field when looking up the number of available vCPUs in a virtual machine. This meant that the Cloud Forms Management Engine was not reporting the number of vCPUs correctly when integrated with the Red Hat Enterprise Virtualization product. The virtual machines configuration management report was changed to query the correct data field. Additional changes were also made to ensure that accurate data is available in this field. The number of vCPUs are now reported correctly in the virtual machines configuration management report.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1087476">1087476</ulink></term>
				<listitem>
					<para>
<screen>In the beta version of CloudForms Management Engine 5.3, if an infrastructure provider was removed, then added again, the relationships between the provider and its clusters and hosts were not refreshed. This was because, the old provider information was not deleted from host records when the provider was deleted. When the same infrastructure provider was added back and a refresh was initiated, the hosts could not resolve provider information and got an object not found error. This bug was fixed by nullifying the provider information on hosts when deleting the provider. Now, when the provider is added back, the hosts look up provider information as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1117972">1117972</ulink></term>
				<listitem>
					<para>
<screen>In a RHOSP-4 environment, when issuing a "Refresh Relationships and Power states" to collect instances, images etc, there was an error in the evm log without getting relationship information. This was because the server was using a flavor that is not public. Once access to a flavor has been restricted, no other projects besides the ones granted explicit access will be able to see the flavor, including the admin project.

Code has been updated to fix the issue with private flavors not being visible on refresh.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1118902">1118902</ulink></term>
				<listitem>
					<para>
<screen>The UI was inaccessible within minutes after adding a RHOS provider to the CFME appliance.

Ensuring the PID file exists within the watchdog_spec.rb and watchdog.rb files means that the UI is now still accessible after adding a RHOS provider.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1038653">1038653</ulink></term>
				<listitem>
					<para>
<screen>When CFME is used to request the creation of a virtual machine, creates the virtual machine instance but throws an error message, leading users to believe that the virtual machine was not created. This was caused by the state machine running post_create_destination twice. The initial one succeeds and the second one fails because it had already created the virtual machine. post_install_callback has been changed to only run the method once. Virtual machines should now be created without any errors.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1045062">1045062</ulink></term>
				<listitem>
					<para>
<screen>Deploying multiple virtual machines failed with the following message:

"RhevmApiError: Failed updating the properties of the VM. This may be caused either by:
1. The values selected are not appropriate for the VM; or
2. Its values cannot be updated while the VM is in UP state (Please shut down the VM in order to modify properties such as CPU or cluster)."

This was caused by RHEV-M returning a state of "complete" in the creation_status URL, leading to a request being made to the RHEV API to change a value on the virtual machine, but the virtual machine's URL was still reporting a state of "image_locked". A test has been added to to detect and re-queue the modification request if the destination image is in a state of "image_locked". The virtual machines now deploy successfully.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1058450">1058450</ulink></term>
				<listitem>
					<para>
<screen>During the migration of VMware virtual machines, a type error caused the migration to fail with a UI error. This was caused by a refactor of the allowed_ci method in vm_migrate_workflow, which required sub-classed models to override and pass a list of sources. The call has been fixed, and virtual machine migration succeeds.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1068705">1068705</ulink></term>
				<listitem>
					<para>
<screen>The correct workflow subclass was not loaded when provisioning a virtual machine from ISO images using automate, causing eligible customization templates to be unavailable. The provisioning workflow has been updated to accept object or ids for templates. Additionally, the provisioning workflow was also changed to load the subclassed workflow instance based on the source template type. All eligible customization templates are now visible when provisioning an instance.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1073689">1073689</ulink></term>
				<listitem>
					<para>
<screen>The CloudInit customization template had an incorrect filename which resulted in the error when querying for the list of customization templates. Trying to query available customization templates from an automate script method while provisioning a cloud image resulted in an 'uninitialized constant' error. This fix was implemented by correcting the filename of CloudInit customization template service model. The automate script is now able to query for customized templates correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1085104">1085104</ulink></term>
				<listitem>
					<para>
<screen>The state_machine gem used in the vm_scanning method created a database transaction block when processing states as automate was coded to not allow methods to run inside of a database transaction. This caused an SQL error when trying to execute an automation request. Calling asynchronous raise_synthetic_event methods for automate tasks from policies has been fixed, which circumvents the database transaction block issue.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1028229">1028229</ulink></term>
				<listitem>
					<para>
<screen>Failure to uncompress parameter ids before running find caused an error when a user clicked on a non-VM file while browsing the datastore. The .find call has been fixed to uncompress the ids and non-VM files now work as expected when clicked.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1034477">1034477</ulink></term>
				<listitem>
					<para>
<screen>Services sub-tabs could not be individually enabled. In order to view one sub-tab a user have to be granted full permissions for the Services tab. The feature check for the Services tab has been updated to enable permissions for individual sub-tabs.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1035028">1035028</ulink></term>
				<listitem>
					<para>
<screen>Users with limited permissions received a blank page when attempting to view items in the Virtual Machines sub-tab under the Infrastructure tab. The feature check for the Virtual Machines sub-tab has been updated to enable users with limited access to view permitted features.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1061482">1061482</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, generating a PDF from the Infrastructure or Providers pages resulted in an user interface error. This was due to missing information critical for generating the PDFs. This bug was fixed by adding in the missing information required for generating the PDFs. PDFs can now be generated as expected from the Infrastructure or Providers pages.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1081342">1081342</ulink></term>
				<listitem>
					<para>
<screen>In the older version of Cloud Forms Management Engine, if the end user had Infrastructure access he automatically had PXE configuration access. To resolve this, additional role based access control was added to allow restricted access to PXE configuration. The administrator is now able control a user's access to PXE configuration as required.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1083622">1083622</ulink></term>
				<listitem>
					<para>
<screen>When switching between groups, instead of the default page assigned to the user, dashboard defaults even when the user does not have access rights.

Fixed code to redirect user to a screen that they have access to when user switches between groups. Moved code that sets start page url into its own common method so it can be used when switching between groups and when user first logs in. Also, added spec test for "start_url_for_user" method to ensure it returns correct url when switching between user's group which has fixed the issue.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1092716">1092716</ulink></term>
				<listitem>
					<para>
<screen>When an OpenStack instance has multiple security groups assigned, the CloudForms web UI for that instance detail only has reference to one of the security groups the instance is assigned to. The security groups themselves seem to display this relationship accurately in that all VMs that have a security group assigned are seen, but not from the instance detail.

Fixed link to Security Groups to show the list of security groups. Thereby, the CloudForms webUI now displays all the security groups on the instance summary page, so the issue is fixed.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1093178">1093178</ulink></term>
				<listitem>
					<para>
<screen>On template summary screen, the analysis history value is clickable, but upon clicking throwed an error: "Error caught: [NoMethodError] undefined method 'id' for nil:NilClass".

Fixed calls to identify_record to pass in db as VmOrTemplate, default db being used was "self.class.model" which was VmInfra and was incorrect when user is on a template summary screen. This has now fixed the issue and there is no error reported.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1094451">1094451</ulink></term>
				<listitem>
					<para>
<screen>In the beta version of CloudForms Management Engine 5.3, adding a Red Hat Open Stack provider failed with an undefined method error message. This error was a result of incorrect handling of the value provided for the port number field. This bug was fixed by correcting the code to handle the port number value correctly. The user is now able to add a Red Hat OpenStack provider as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1097692">1097692</ulink></term>
				<listitem>
					<para>
<screen>In the beta version of CloudForms Management Engine 5.3, if the administrator attempted to create a catalog under the services menu, it resulted in a fatal error stating that the user was not authorized for the task. This was because the role based access control rule to permit the administrator to create the catalog was missing. This bug was fixed by adding the missing role based access control rule. The administrator is now able to create catalogs as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1098112">1098112</ulink></term>
				<listitem>
					<para>
<screen>In the beta version of Cloud Forms Management Engine 5.3, it was not possible to modify the paginator value when listing virtual machines through their relationships with other objects. This was because the paginator did not handle list value updates in these views. This bug was fixed by enabling the handler for per-page setting and sorting of records in relationship views. The paginator now works as expected in relationship views.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1114747">1114747</ulink></term>
				<listitem>
					<para>
<screen>Attempting to create an instance in automate, threw an error: WARN -- : Session::DalliStore#set: Value too large, memcached can only store 1048576 bytes per key [key: MIQ:VMDB:86346c9e21029126785058ecd92202e6, size: 1126745].

Changed code to add/edit instance to not store AR Objects in @edit, but, to store the required fields into array of hashes instead. Besides, some minor cleanups were also made to methods. These changes has fixed the issue and now there is no error.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1115717">1115717</ulink></term>
				<listitem>
					<para>
<screen>Self service users are able to order catalog items only if they clicked "Order" versus clicking on the item and then clicking "Order". This was attributed to the issue where logged in user didn't have access to :sandt_tree.

Fixed code to pass in correct tree name to x_build_node_id method which has fixed the issue and self service users can now order a service without viewing catalog items.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1126364">1126364</ulink></term>
				<listitem>
					<para>
<screen>A new user assigned the User role received an error message when attempting to provision a cloud instance or vm: "The user is not authorized for this task or item". Access to view the Request list and copy/delete has been added to the User role. In addition, a user will now be redirected back to the page where they initiated a Provisioning request if they don't have access to view the list of Requests to prevent errors in the UI.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1129802">1129802</ulink></term>
				<listitem>
					<para>
<screen>Need to copy Automate class/instance/method elements in the same domain with a new name.

Code was updated to add support to be able to copy a single automate Class/Instance/Method with a new name under same domain. Made model changes to copy methods to call appropriate method when copying objects. Also, added new name text field on copy form that is only displayed when a single object is selected to copy and under a same domain. And, added a read only field "From Domain" to show users which domain they are copying object from.
Changed label "Domain" on Domain pull-down to "to Domain".
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1138858">1138858</ulink></term>
				<listitem>
					<para>
<screen>When attempting to provision a VM on SCVMM, user is able to select a template and then receives an error "uninitialized constant MiqProvisionMicrosoftWorkflow [vm_infra/pre_prov]"

Disabled provisioning button for SCVMM. Added code around Publish button to be disabled for SCVMM on VM summary screen and also code around Publish button on list view to display a flash message "Publish does not apply to VM Template" when SCVMM VM is selected from a list view.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1119453">1119453</ulink></term>
				<listitem>
					<para>
<screen>Previously, turning on replication on the Regional Database caused the backlog to grow indefinitely. As a consequence, replicating to Master database was unresponsive for a long period of time and timed out. With this update, the bug has been fixed and Regional Database replication now works as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1004894">1004894</ulink></term>
				<listitem>
					<para>
<screen>With a large number of events in the event queue, the delete event for hosts, clusters, or management systems timed out due to a dead lock. This meant that the user was unable to remove hosts, clusters, or management systems within the Cloud Forms Management Engine environment. Changes were made so that the purger component would handle all events. The user is now able to remove hosts, clusters, and management systems within the Cloud Forms Management Engine environment.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1098648">1098648</ulink></term>
				<listitem>
					<para>
<screen>The CFME appliance has two swap utilization thresholds to protect the operation of the appliance, at 60% and 80%. A bug got intorduced in these thresholds when the worker management code was refactored to fix another bugzilla. While the 80% swap utilization threshold was recognized, neither the 60% nor the 80% thresholds were honored.
This bug was fixed by re-enabling the check for swap space when starting workers.
As a result of this fix, the swap utilization thresholds are now honored correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1126071">1126071</ulink></term>
				<listitem>
					<para>
<screen>In the previous version of CloudForms Management Engine, the smart proxy executable was not uploaded to the appliance during start-up. This was due to the presence of a newline at the end of the VERSION file. The newline caused the comparison of the rpm version with the version provided by the smart proxy executable to fail, resulting in the failed upload. This bug was fixed by adding code to strip off any leading or trailing white space from the VERSION file. The smart proxy executable is now available in the appliance as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1135044">1135044</ulink></term>
				<listitem>
					<para>
<screen>After a copy of a certain built-in CFME Class from the ManageIQ domain into a custom domain, certain characters were replaced with html safe versions causing exceptions during StateMachine running. This was being caused by the haml-4.0.3 gem altering the passed in parameters when escaping the text_field_tag value. Code was updated in a way that escape_once works on frozen strings, that way it works the same way as #html_escape. This has now fixed the issue.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1135050">1135050</ulink></term>
				<listitem>
					<para>
<screen>In the beta version of CloudForms Management Engine 5.3, running the rake command to precompile assets failed with the error asset logical path has no extension, for a file named without an extension. This was because the precompiler could not work with a filename without an extension. The bug was resolved by excluding files without extensions from precompiling. Precompiling assets now works as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1122253">1122253</ulink></term>
				<listitem>
					<para>
<screen>The Smart Management Tag window was missing from the Security Groups Summary page.
Code has been updated and the Smart Management Tag window has been added to the Security Group Summary page and the issue is now resolved.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1018214">1018214</ulink></term>
				<listitem>
					<para>
<screen>Setting valid Remote Login credentials for an ESX host then attempting to validate the credentials in the Default Credentials section caused a "No credentials defined" error. The only way to add credentials for an ESX host was to use the default credentials of root, which required ssh login as root to be setup on ESX. This presents security risks. A clean up of auth_cache and related callbacks in the authentication mixin fixes the issue and users are now able to save login information.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1054382">1054382</ulink></term>
				<listitem>
					<para>
<screen>An error in the miq_widget code caused dashboard widgets not to update for users who were members of multiple LDAP groups. The widget code has been fixed, and widget content now updates correctly when multi-group users log in or switch their group contexts.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1071360">1071360</ulink></term>
				<listitem>
					<para>
<screen>For users who were member of multiple LDAP groups, dashboard widget 'Guest OS Information' regeneration failed with an Error status. Also, "Virtual Infrastructure Platforms" and "Vendor and Guest OS Chart" were stuck at "Running" status with an error message on web UI, "Widget Generation for 5 of 2 groups Complete".

The Widget.get_group method has been updated to work with both group ID and description, and time out of active and creating miq_tasks when queuing the widget generation have been fixed. Dashboard widgets can now be successfully (re)generated for multi-group users.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1072082">1072082</ulink></term>
				<listitem>
					<para>
<screen>Adding a nil virtual column to a report resulted in failure to run the report. This was fixed by adding a test case for a nil virtual column, and reports containing a nil virtual column can now be run successfully.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1080231">1080231</ulink></term>
				<listitem>
					<para>
<screen>User was unable to save "Remote Login" credentials for hypervisors with an error displayed on the user interface.

Error: "Default User ID must be entered if a Remote Login or Web Services User ID is entered"

With a clean up of auth_cache and related callbacks in authentication mixin the issue has been fixed and remote login information can now be saved.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1100597">1100597</ulink></term>
				<listitem>
					<para>
<screen>When EVM generated SQL to run a report, it did not qualify a column name with a table name, resulting in an ambigious column reference error.
Hence, EVM was not able to run the report, and returned an incorrectly formed SQL error.
To fix this issue the associations for the fields utilized in the report were corrected so that the table name is correctly inserted in the SQL query.
User is now able to run the report without any failures.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1072494">1072494</ulink></term>
				<listitem>
					<para>
<screen>When objects were passed to automate with a URL it instantiated the base_class model which ignored subclasses and methods exposed through subclassed service models. This meant that subclass methods were not available to automate scripts. Bugs in method overriding and association while loading the correct subclass when instantiating a service model were fixed and subclass methods are now available to automate scripts.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1077859">1077859</ulink></term>
				<listitem>
					<para>
<screen>When a user received the below links (vm_or_template, miq_request) via email they could no longer browse to a service / request page without having to manually navigate to the request queue and clicking on their request.
Logging into the CFME as an Admin and accessing the following URLs links resulted in a blank page: https://10.3.76.102/vm_or_template/show/619000000000068 and/or https://10.3.76.102/miq_request/show/619000000000079

White listing of entry points was implemented to the web UI which has fixed the issue. Upon clicking a service/request URL via email, user now gets to the desired correct page.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1091962">1091962</ulink></term>
				<listitem>
					<para>
<screen>Certain browsers limit the size of the cookie field in the HTTP header. This used to lead to bad requests after navigating through a large number of pages, as the Cookie field of the HTTP header used to get filled up with cookies storing state information on the tree branches navigated to earlier. This was fixed by limiting the maximum size of cookies, so that cookies do not grow larger then the maximum size expected by browsers.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1102822">1102822</ulink></term>
				<listitem>
					<para>
<screen>In Cloud > Reports > Dashboard Widgets > Charts, clicking on "Guest OS Information" and "Generate Widget content now". Content generation fails with an error status.

Fixed to change chart type from pie 3D to pie for predefined reports. "Guest OS Information" widget content can now be successfully generated.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1106331">1106331</ulink></term>
				<listitem>
					<para>
<screen>If a user assigned to any role other then super_admin logged into a CFME instance which did not have a provider configured yet, he would get the generic error message "The system has not been configured, please contact the administrator". The error message has been updated to a more descriptive one - "Logins not allowed, no providers are being managed yet. Please contact the administrator."
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1077793">1077793</ulink></term>
				<listitem>
					<para>
<screen>Connection issues between the CFME appliance and vCenter hosts caused closed connections to remain idle instead of terminating. This has been fixed and sessions now close correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1102852">1102852</ulink></term>
				<listitem>
					<para>
<screen>When attempting to use the Integration / VimApi / VMware_HotAdd_Disk method to add a disk to a VM in VMware, a ruby error was generated and disk wasnâ€™t being added.

The MiqVimVm#addDisk method was using the public accessor dsName2mo() when creating the ConfigSpec used to add a disk to the VM; causing the returned object to be wrapped in a MiqDrbReturn object. This caused the MiqDrbReturn object to be passed back to the client, since only top-level return objects should be wrapped in MiqDrbReturn. The client would then pass this unexpected object to the VMware VIM API, causing the failure.

Using the internal accessor dsName2mo_local() when acquiring sub-objects of the ConfigSpec, since this method does not wrap its returned value in a MiqDrbReturn object was the solution.

Also, fixed VMware service model methods for set_memory and add_disk; both method names were incorrectly set to an existing method name in a previous refactoring. This has fixed the issue and disk is  now being added to a VM in Vmware without any error.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1025567">1025567</ulink></term>
				<listitem>
					<para>
<screen>In the beta release of Cloud Forms Management Engine 5.3, when ordering a service that presented a dialog to the user, the Submit and Cancel buttons were not shown, only the paging controls were shown. This bug was fixed by ensuring that the submit and cancel buttons were displayed as required, allowing users to order services as expected.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1045210">1045210</ulink></term>
				<listitem>
					<para>
<screen>A code error caused custom button groups not to appear when viewing a Service. A code fix enables custom buttons to display correctly for Service and specific Service Templates on the Service summary screen.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1110964">1110964</ulink></term>
				<listitem>
					<para>
<screen>In Infrastructure > Virtual Machines, clicking on timeline after selecting a tempate with timeline enabled threw an undefined method 'first_and_last_event' for nil:NilClass [vm_infra/tl_chooser] because find for VmInfra record was breaking MiqTemplate record.

Added a new method controller_to_model that can be used to pass in model to identify_record call which has fixed the issue and no error is displayed when clicked on template timeline.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1110971">1110971</ulink></term>
				<listitem>
					<para>
<screen>Clicking on a service for a catalog item and setting ownership under configuration menu throws an error: undefined method id for nil:NilClass [service/x_button]

Unnecessary code was deleted where @record.id was being passed to locals while setting ownership on a service which has fixed the issue and no error is thrown.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1029654">1029654</ulink></term>
				<listitem>
					<para>
<screen>Cloud relationships were not properly exposed to automate service models, resulting in missing key pairs for EC2 instances. A code update fixes the cloud relationships and key pairs for EC2 instances now populate the service models correctly.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1045215">1045215</ulink></term>
				<listitem>
					<para>
<screen>Attempting to run the $evm.root['service'].inspect_all command caused an undefined method 'service_type' error, and the field service_type data failed to return. The service_type method and related code have been moved to the service_template model, and the command returns the expected data.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1068804">1068804</ulink></term>
				<listitem>
					<para>
<screen>Changes in the Red Hat Enterprise Virtualization 3.3 API allowed for deployment of multiple payloads in one API call. However, CloudForms Management Engine could not save payloads to virtual machines because the code focused on a single payload per call (3.2 and below). This fix adds an exception for Red Hat Enterprise Virtualization 3.3 that accommodates the API changes. CloudForms Management Engine now correctly interfaces with the Red Hat Enterprise Virtualization 3.3 API payload functions.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1069026">1069026</ulink></term>
				<listitem>
					<para>
<screen>CloudForms Management Engine failed to pull network information from OpenStack instances with multiple network interfaces. This caused network information to not appear through automate methods. This fix modifies the provisioning code for OpenStack instances to allow for an array of network interfaces. CloudForms now pulls network information for OpenStack instances with multiple interfaces.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1072113">1072113</ulink></term>
				<listitem>
					<para>
<screen>When a user only had access to Services trees saw their VMs in a dashboard widget and clicked on them, they were directed to Infrastructure / Virtual Machines rather than Services / Workloads. A blank screen with no results displayed, and the production.log showed the following error message :

FATAL -- : Error caught: [RuntimeError] User is not allowed to access Virtual Machines, please contact your Administrator

This fix adds code to redirect users to the workloads explorer from the dashboard widget if they do not have access to accordions in the VM Infrastructure or VM Cloud explorers.
</screen>
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>BZ#<ulink url="https://bugzilla.redhat.com/show_bug.cgi?id=1086015">1086015</ulink></term>
				<listitem>
					<para>
<screen>Selecting a VM under the Infrastructure tab took anywhere from 10-18 seconds due to slow database queries. Improvements were made in the VM selection code in the appliance. It is now possible to select VMs under the infrastructure tab without a delay.
</screen>
					</para>
				</listitem>
			</varlistentry>
	</variablelist>
</section>